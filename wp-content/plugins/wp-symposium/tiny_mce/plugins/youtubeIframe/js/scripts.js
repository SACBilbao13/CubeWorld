tinyMCEPopup.requireLangPack();var YoutubeDialog={init:function(){var a=document.forms[0];a.youtubeURL.value=tinyMCEPopup.editor.selection.getContent({format:"text"});$(".share-embed-size-list li.share-embed-size").each(function(){$(this).click(function(){$("li.share-embed-size").removeClass("selected");$(this).addClass("selected")})})},insert:function(){var e=$("#youtubeURL").val();if(e===null){tinyMCEPopup.close();return}var h,d,g,c,f;d=e.match("[\\?&]v=([^&#]*)");h=$.trim((d===null)?e:d[1]);if(h===""){tinyMCEPopup.close();return}var g="100%";var c=400;if(g==-1&&c==-1){g=$("input.share-embed-size-custom-width").val();c=$("input.share-embed-size-custom-height").val()}if(g==""||g=="undefined"||c==""||c=="undefined"){alert("Error: No size selected");tinyMCEPopup.close();return}f="iframe";if(f==""||f=="undefined"){alert("Error: No type selected");tinyMCEPopup.close();return}var b='<iframe width="'+g+'" height="'+c+'" src="http://www.youtube.com/embed/'+h+'?wmode=transparent" frameborder="0" allowfullscreen></iframe>';var a='        <object width="'+g+'" height="'+c+'">\n            <param name="movie" value="http://www.youtube.com/v/'+h+'?version=3&amp;hl=en_US"></param>\n            <param name="allowFullScreen" value="true"></param>\n            <param name="allowscriptaccess" value="always"></param>\n            <param name="wmode" value="transparent"></param>\n            <embed src="http://www.youtube.com/v/'+h+'?version=3&amp;hl=en_US" type="application/x-shockwave-flash" width="'+g+'" height="'+c+'" allowscriptaccess="always" allowfullscreen="true"></embed>\n        </object>';if(f=="iframe"){tinyMCEPopup.editor.execCommand("mceInsertContent",false,b)}else{tinyMCEPopup.editor.execCommand("mceInsertContent",false,a)}tinyMCEPopup.close()}};tinyMCEPopup.onInit.add(YoutubeDialog.init,YoutubeDialog);